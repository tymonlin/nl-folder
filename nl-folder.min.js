!function(){var e=angular.module("module.newland.folder",[]);e.directive("nlFolder",["$NLFolderTree",function(d){return{restrict:"EA",scope:{loadFiles:"&",data:"=",defaultToggled:"=",selected:"&",selectedRow:"=",dataKey:"@",nameKey:"@"},replace:!0,template:"<div></div>",compile:function(e,l){for(var o=$(e),a=0;a<d.maxDepth;a++){var t=$("<ul ng-if='"+(0==a||"row"+(a-1)+"[dataKey]")+"'>   <li ng-repeat='row"+a+" in "+(0==a?"data":"row"+(a-1)+"[dataKey]")+"' ng-class=\"{'active':(row"+a+".active), 'toggled': row"+a+".toggled}\" ng-init='initRowTOG(row"+a+")'>       <i class='fa'            ng-class=\"{'fa-folder-o': (!row"+a+".toggled), 'fa-folder-open-o': (row"+a+".toggled)}\"            ng-click='changeToggled(row"+a+")'></i>       <a href='javascript:;' ng-click='select(row"+a+")' ng-dblclick='changeToggled(row"+a+")'><span>{{row"+a+"[nameKey]}}</span></a>   </li></ul>");o.append(t),o=t.children("li")}},controller:["$scope",function(l){l.nameKey||(l.nameKey="name"),l.dataKey||(l.dataKey="data"),"true"==l.loadingRealTime||!0===l.loadingRealTime?l.loadingRealTime=!0:l.loadingRealTime=!1,l.select=function(e){e.active?(e.active=!1,l.selected({row:void 0}),l.selectedRow=void 0):(l.selectedRow&&(l.selectedRow.active=!1),e.active=!0,l.selected({row:e}),l.selectedRow=e)},l.changeToggled=function(e){"folder"==e.fileType&&(!e.toggled&&l.loadFiles&&(e.data=void 0,e.data=l.loadFiles({row:e})),e.toggled=!e.toggled)},l.toLoadFiles=function(e){l.loadFiles&&(e.data=l.loadFiles(e))};var o=l.defaultToggled;l.initRowTOG=function(e){e.toggled=null==e.toggled?null==o?d.defaultToggled:o:e.toggled}}]}}]),e.provider("$NLFolderTree",function e(){this.maxDepth=32,this.defaultToggled=!0,this.$get=function(){return new e}})}();